{% extends "base.html" %}

{% block title %}Izvještaj o transparentnosti ljudskog uticaja — AI Vlada Crne Gore{% endblock %}

{% block content %}
<div class="transparency-content">
  <h1 class="lang-mne">Izvještaj o transparentnosti ljudskog uticaja</h1>
  <h1 class="lang-en">Human Influence Transparency Report</h1>

  <div class="transparency-intro">
    <p class="lang-mne">
      Ovaj projekat funkcioniše po Ustavu (članovi 5 i 22) koji zahtijeva potpunu transparentnost.
      AI ne radi bez nadzora — ljudi intervenišu kada je potrebno, a svaka intervencija je
      javni zapis.
    </p>
    <p class="lang-en">
      This project operates under a Constitution (Articles 5 and 22) that demands full transparency.
      The AI does not run unchecked — humans intervene when necessary, and every intervention is
      public record.
    </p>
    <p class="lang-mne">
      Ova stranica dokumentuje sav ljudski uticaj na AI sistem: zadatke koje su direktno podnijeli ljudi
      i slučajeve u kojima su ljudski operateri zamijenili AI odluke u procesu analize vlade
      ili razvojnom toku.
    </p>
    <p class="lang-en">
      This page documents all human influence on the AI system: tasks directly filed by humans
      and instances where human operators overrode AI decisions in the government analysis pipeline
      or development workflow.
    </p>
  </div>

  <div class="transparency-footer">
    <h2 class="lang-mne">Kako funkcionišu ljudske intervencije</h2>
    <h2 class="lang-en">How Human Interventions Work</h2>
    <p class="lang-mne">
      Ova stranica prati tri vrste ljudskog uticaja na AI sistem:
    </p>
    <p class="lang-en">
      This page tracks three types of human influence on the AI system:
    </p>
    <ol class="lang-mne">
      <li><strong>Zamjene:</strong> Kada AI trijaža odbije prijedlog, čovjek može ponovo otvoriti
          pitanje ili dodati komentar "HUMAN OVERRIDE" da premjesti pitanje u red čekanja,
          zaobilazeći AI odluku.</li>
      <li><strong>Zadaci koje su odredili ljudi:</strong> Pitanja direktno kreirana od strane ljudi,
          koja usmjeravaju AI da radi na određenim zadacima.</li>
      <li><strong>Spajanja PR-ova:</strong> Kada čovjek pregleda i spoji AI-generisani pull request,
          odobravajući AI kod za primjenu.</li>
    </ol>
    <ol class="lang-en">
      <li><strong>Overrides:</strong> When AI triage rejects a proposal, a human can reopen the
          issue or add a "HUMAN OVERRIDE" comment to move it to the backlog,
          bypassing the AI decision.</li>
      <li><strong>Human-directed tasks:</strong> Issues filed directly by humans,
          directing the AI to work on specific tasks.</li>
      <li><strong>PR merges:</strong> When a human reviews and merges an AI-generated pull request,
          approving AI code for deployment.</li>
    </ol>
    <p class="lang-mne">
      Svaka intervencija je zabilježena sa akterom, vremenskim pečatom i punim detaljima.
      Ovo osigurava odgovornost i demonstrira da projekat funkcioniše transparentno —
      ne kao automatizacija bez nadzora, već kao AI analiza pod ljudskim nadzorom.
    </p>
    <p class="lang-en">
      Every intervention is logged with the actor, timestamp, and full details.
      This ensures accountability and demonstrates that the project operates transparently —
      not as unchecked automation, but as human-supervised AI analysis.
    </p>
  </div>

  {% if interventions %}
  <div class="override-stats">
    <p class="lang-mne"><strong>Ukupno zabilježenih intervencija:</strong> {{ interventions|length }}</p>
    <p class="lang-en"><strong>Total interventions recorded:</strong> {{ interventions|length }}</p>
  </div>

  <div class="override-list">
    {% for entry in interventions %}
    <article class="override-record">
      <div class="override-header">
        <h2>
          {% if entry.type == 'pr_merge' %}
          <a href="https://github.com/vindl/ai-government/pull/{{ entry.item.pr_number }}"
             target="_blank" rel="noopener noreferrer">
            PR #{{ entry.item.pr_number }}: {{ entry.item.pr_title }}
          </a>
          {% else %}
          <a href="https://github.com/vindl/ai-government/issues/{{ entry.item.issue_number }}"
             target="_blank" rel="noopener noreferrer">
            #{{ entry.item.issue_number }}: {{ entry.item.issue_title }}
          </a>
          {% endif %}
        </h2>
        <time datetime="{{ entry.timestamp.isoformat() }}">
          {{ entry.timestamp.strftime('%Y-%m-%d %H:%M UTC') }}
        </time>
      </div>

      <div class="override-details">
        <dl>
          {% if entry.type == 'override' %}
          <dt class="lang-mne">Tip:</dt>
          <dt class="lang-en">Type:</dt>
          <dd>
            {% if entry.item.override_type == 'reopened' %}
            <span class="lang-mne">Zamjena — Ponovno otvoreno odbijeno pitanje</span>
            <span class="lang-en">Override — Reopened rejected issue</span>
            {% elif entry.item.override_type == 'comment' %}
            <span class="lang-mne">Zamjena — Eksplicitni komentar HUMAN OVERRIDE</span>
            <span class="lang-en">Override — Explicit HUMAN OVERRIDE comment</span>
            {% elif entry.item.override_type == 'pr_comment' %}
            <span class="lang-mne">Zamjena — Zamjena putem PR recenzije</span>
            <span class="lang-en">Override — PR review override</span>
            {% endif %}
          </dd>

          <dt class="lang-mne">Akter:</dt>
          <dt class="lang-en">Actor:</dt>
          <dd>
            <a href="https://github.com/{{ entry.item.actor }}"
               target="_blank" rel="noopener noreferrer">
              @{{ entry.item.actor }}
            </a>
          </dd>

          <dt class="lang-mne">AI presuda:</dt>
          <dt class="lang-en">AI verdict:</dt>
          <dd class="ai-verdict">{{ entry.item.ai_verdict }}</dd>

          <dt class="lang-mne">Ljudska akcija:</dt>
          <dt class="lang-en">Human action:</dt>
          <dd class="human-action">{{ entry.item.human_action }}</dd>

          {% if entry.item.rationale %}
          <dt class="lang-mne">Obrazloženje:</dt>
          <dt class="lang-en">Rationale:</dt>
          <dd class="rationale">{{ entry.item.rationale }}</dd>
          {% endif %}

          {% if entry.item.pr_number %}
          <dt class="lang-mne">Povezani PR:</dt>
          <dt class="lang-en">Related PR:</dt>
          <dd>
            <a href="https://github.com/vindl/ai-government/pull/{{ entry.item.pr_number }}"
               target="_blank" rel="noopener noreferrer">
              #{{ entry.item.pr_number }}
            </a>
          </dd>
          {% endif %}

          {% elif entry.type == 'pr_merge' %}
          <dt class="lang-mne">Tip:</dt>
          <dt class="lang-en">Type:</dt>
          <dd>
            <span class="lang-mne">PR spojen</span>
            <span class="lang-en">PR merged</span>
          </dd>

          <dt class="lang-mne">Spojio:</dt>
          <dt class="lang-en">Merged by:</dt>
          <dd>
            <a href="https://github.com/{{ entry.item.actor }}"
               target="_blank" rel="noopener noreferrer">
              @{{ entry.item.actor }}
            </a>
          </dd>

          {% if entry.item.issue_number %}
          <dt class="lang-mne">Povezano pitanje:</dt>
          <dt class="lang-en">Linked issue:</dt>
          <dd>
            <a href="https://github.com/vindl/ai-government/issues/{{ entry.item.issue_number }}"
               target="_blank" rel="noopener noreferrer">
              #{{ entry.item.issue_number }}
            </a>
          </dd>
          {% endif %}

          {% else %}
          <dt class="lang-mne">Tip:</dt>
          <dt class="lang-en">Type:</dt>
          <dd>
            <span class="lang-mne">Zadatak koji je odredio čovjek</span>
            <span class="lang-en">Human-directed task</span>
          </dd>

          <dt class="lang-mne">Podnio:</dt>
          <dt class="lang-en">Filed by:</dt>
          <dd>
            <a href="https://github.com/{{ entry.item.creator }}"
               target="_blank" rel="noopener noreferrer">
              @{{ entry.item.creator }}
            </a>
          </dd>

          <dt class="lang-mne">Status:</dt>
          <dt class="lang-en">Status:</dt>
          <dd>{{ entry.item.status }}</dd>
          {% endif %}
        </dl>
      </div>
    </article>
    {% endfor %}
  </div>
  {% endif %}

  {% if not interventions %}
  <div class="no-overrides">
    <p class="lang-mne">Još nijesu zabilježene ljudske intervencije.</p>
    <p class="lang-en">No human interventions have been recorded yet.</p>
    <p class="lang-mne">
      Kako projekat bude radio, svi zadaci koje odrede ljudi ili zamjene AI odluka
      pojaviće se ovdje sa punim detaljima.
    </p>
    <p class="lang-en">
      As the project operates, any human-directed tasks or AI decision overrides will
      appear here with full details.
    </p>
  </div>
  {% endif %}

</div>
{% endblock %}
